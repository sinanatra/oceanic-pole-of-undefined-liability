import{s as Ce,e as X,b as ve,t as ie,d as Q,f as $,O as An,j as _e,h as le,i as M,v as _,k as q,l as T,m as Ee,n as he,w as Ze,P as In,Q as Et,R as bn,S as we,T as J,r as St,U,V,p as re,x as Ft,F as qt,W as jt}from"../chunks/scheduler.Df9TYcxE.js";import{S as Le,i as Te,b as je,d as He,m as Ue,t as Pe,a as Me,e as Ve,c as Ht,g as Ut}from"../chunks/index.DN6lcf4c.js";function K(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Vt(n){return n}function Wt(n){if(n==null)return Vt;var e,i,t=n.scale[0],l=n.scale[1],r=n.translate[0],o=n.translate[1];return function(a,h){h||(e=i=0);var g=2,s=a.length,u=new Array(s);for(u[0]=(e+=a[0])*t+r,u[1]=(i+=a[1])*l+o;g<s;)u[g]=a[g],++g;return u}}function Gt(n,e){for(var i,t=n.length,l=t-e;l<--t;)i=n[l],n[l++]=n[t],n[t]=i}function Ye(n,e){return typeof e=="string"&&(e=n.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(i){return Cn(n,i)})}:Cn(n,e)}function Cn(n,e){var i=e.id,t=e.bbox,l=e.properties==null?{}:e.properties,r=Zt(n,e);return i==null&&t==null?{type:"Feature",properties:l,geometry:r}:t==null?{type:"Feature",id:i,properties:l,geometry:r}:{type:"Feature",id:i,bbox:t,properties:l,geometry:r}}function Zt(n,e){var i=Wt(n.transform),t=n.arcs;function l(s,u){u.length&&u.pop();for(var c=t[s<0?~s:s],d=0,p=c.length;d<p;++d)u.push(i(c[d],d));s<0&&Gt(u,p)}function r(s){return i(s)}function o(s){for(var u=[],c=0,d=s.length;c<d;++c)l(s[c],u);return u.length<2&&u.push(u[0]),u}function a(s){for(var u=o(s);u.length<4;)u.push(u[0]);return u}function h(s){return s.map(a)}function g(s){var u=s.type,c;switch(u){case"GeometryCollection":return{type:u,geometries:s.geometries.map(g)};case"Point":c=r(s.coordinates);break;case"MultiPoint":c=s.coordinates.map(r);break;case"LineString":c=o(s.arcs);break;case"MultiLineString":c=s.arcs.map(o);break;case"Polygon":c=h(s.arcs);break;case"MultiPolygon":c=s.arcs.map(h);break;default:return null}return{type:u,coordinates:c}}return g(e)}class ke{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let t=0;for(let l=0;l<this._n&&l<32;l++){const r=i[l],o=e+r,a=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);a&&(i[t++]=a),e=o}return i[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let i=this._n,t,l,r,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,l=e[--i],o=t+l,r=l-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(l=r*2,t=o+l,l==t-o&&(o=t))}return o}}function*Yt(n){for(const e of n)yield*e}function yt(n){return Array.from(Yt(n))}var j=1e-6,Xt=1e-12,B=Math.PI,oe=B/2,Ln=B/4,se=B*2,ge=180/B,x=B/180,G=Math.abs,Qt=Math.atan,Ie=Math.atan2,W=Math.cos,H=Math.sin,Jt=Math.sign||function(n){return n>0?1:n<0?-1:0},Se=Math.sqrt;function wt(n){return n>1?0:n<-1?B:Math.acos(n)}function De(n){return n>1?oe:n<-1?-oe:Math.asin(n)}function ae(){}function en(n,e){n&&On.hasOwnProperty(n.type)&&On[n.type](n,e)}var Tn={Feature:function(n,e){en(n.geometry,e)},FeatureCollection:function(n,e){for(var i=n.features,t=-1,l=i.length;++t<l;)en(i[t].geometry,e)}},On={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)n=i[t],e.point(n[0],n[1],n[2])},LineString:function(n,e){pn(n.coordinates,e,0)},MultiLineString:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)pn(i[t],e,0)},Polygon:function(n,e){$n(n.coordinates,e)},MultiPolygon:function(n,e){for(var i=n.coordinates,t=-1,l=i.length;++t<l;)$n(i[t],e)},GeometryCollection:function(n,e){for(var i=n.geometries,t=-1,l=i.length;++t<l;)en(i[t],e)}};function pn(n,e,i){var t=-1,l=n.length-i,r;for(e.lineStart();++t<l;)r=n[t],e.point(r[0],r[1],r[2]);e.lineEnd()}function $n(n,e){var i=-1,t=n.length;for(e.polygonStart();++i<t;)pn(n[i],e,1);e.polygonEnd()}function Re(n,e){n&&Tn.hasOwnProperty(n.type)?Tn[n.type](n,e):en(n,e)}function gn(n){return[Ie(n[1],n[0]),De(n[2])]}function ze(n){var e=n[0],i=n[1],t=W(i);return[t*W(e),t*H(e),H(i)]}function Xe(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function nn(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function un(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Qe(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function dn(n){var e=Se(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function vn(n,e){function i(t,l){return t=n(t,l),e(t[0],t[1])}return n.invert&&e.invert&&(i.invert=function(t,l){return t=e.invert(t,l),t&&n.invert(t[0],t[1])}),i}function _n(n,e){return G(n)>B&&(n-=Math.round(n/se)*se),[n,e]}_n.invert=_n;function Kt(n,e,i){return(n%=se)?e||i?vn(Fn(n),qn(e,i)):Fn(n):e||i?qn(e,i):_n}function Bn(n){return function(e,i){return e+=n,G(e)>B&&(e-=Math.round(e/se)*se),[e,i]}}function Fn(n){var e=Bn(n);return e.invert=Bn(-n),e}function qn(n,e){var i=W(n),t=H(n),l=W(e),r=H(e);function o(a,h){var g=W(h),s=W(a)*g,u=H(a)*g,c=H(h),d=c*i+s*t;return[Ie(u*l-d*r,s*i-c*t),De(d*l+u*r)]}return o.invert=function(a,h){var g=W(h),s=W(a)*g,u=H(a)*g,c=H(h),d=c*l-u*r;return[Ie(u*l+c*r,s*i+d*t),De(d*i-s*t)]},o}function xt(n,e,i,t,l,r){if(i){var o=W(e),a=H(e),h=t*i;l==null?(l=e+t*se,r=e-h/2):(l=jn(o,l),r=jn(o,r),(t>0?l<r:l>r)&&(l+=t*se));for(var g,s=l;t>0?s>r:s<r;s-=h)g=gn([o,-a*W(s),-a*H(s)]),n.point(g[0],g[1])}}function jn(n,e){e=ze(e),e[0]-=n,dn(e);var i=wt(-e[1]);return((-e[2]<0?-i:i)+se-j)%se}function Pt(){var n=[],e;return{point:function(i,t,l){e.push([i,t,l])},lineStart:function(){n.push(e=[])},lineEnd:ae,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],e=null,i}}}function xe(n,e){return G(n[0]-e[0])<j&&G(n[1]-e[1])<j}function Je(n,e,i,t){this.x=n,this.z=e,this.o=i,this.e=t,this.v=!1,this.n=this.p=null}function Mt(n,e,i,t,l){var r=[],o=[],a,h;if(n.forEach(function(p){if(!((y=p.length-1)<=0)){var y,m=p[0],R=p[y],E;if(xe(m,R)){if(!m[2]&&!R[2]){for(l.lineStart(),a=0;a<y;++a)l.point((m=p[a])[0],m[1]);l.lineEnd();return}R[0]+=2*j}r.push(E=new Je(m,p,null,!0)),o.push(E.o=new Je(m,null,E,!1)),r.push(E=new Je(R,p,null,!1)),o.push(E.o=new Je(R,null,E,!0))}}),!!r.length){for(o.sort(e),Hn(r),Hn(o),a=0,h=o.length;a<h;++a)o[a].e=i=!i;for(var g=r[0],s,u;;){for(var c=g,d=!0;c.v;)if((c=c.n)===g)return;s=c.z,l.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(a=0,h=s.length;a<h;++a)l.point((u=s[a])[0],u[1]);else t(c.x,c.n.x,1,l);c=c.n}else{if(d)for(s=c.p.z,a=s.length-1;a>=0;--a)l.point((u=s[a])[0],u[1]);else t(c.x,c.p.x,-1,l);c=c.p}c=c.o,s=c.z,d=!d}while(!c.v);l.lineEnd()}}}function Hn(n){if(e=n.length){for(var e,i=0,t=n[0],l;++i<e;)t.n=l=n[i],l.p=t,t=l;t.n=l=n[0],l.p=t}}function cn(n){return G(n[0])<=B?n[0]:Jt(n[0])*((G(n[0])+B)%se-B)}function ei(n,e){var i=cn(e),t=e[1],l=H(t),r=[H(i),-W(i),0],o=0,a=0,h=new ke;l===1?t=oe+j:l===-1&&(t=-oe-j);for(var g=0,s=n.length;g<s;++g)if(c=(u=n[g]).length)for(var u,c,d=u[c-1],p=cn(d),y=d[1]/2+Ln,m=H(y),R=W(y),E=0;E<c;++E,p=P,m=z,R=b,d=S){var S=u[E],P=cn(S),k=S[1]/2+Ln,z=H(k),b=W(k),L=P-p,D=L>=0?1:-1,C=D*L,w=C>B,I=m*z;if(h.add(Ie(I*D*H(C),R*b+I*W(C))),o+=w?L+D*se:L,w^p>=i^P>=i){var O=nn(ze(d),ze(S));dn(O);var A=nn(r,O);dn(A);var f=(w^L>=0?-1:1)*De(A[2]);(t>f||t===f&&(O[0]||O[1]))&&(a+=w^L>=0?1:-1)}}return(o<-j||o<j&&h<-Xt)^a&1}function kt(n,e,i,t){return function(l){var r=e(l),o=Pt(),a=e(o),h=!1,g,s,u,c={point:d,lineStart:y,lineEnd:m,polygonStart:function(){c.point=R,c.lineStart=E,c.lineEnd=S,s=[],g=[]},polygonEnd:function(){c.point=d,c.lineStart=y,c.lineEnd=m,s=yt(s);var P=ei(g,t);s.length?(h||(l.polygonStart(),h=!0),Mt(s,ti,P,i,l)):P&&(h||(l.polygonStart(),h=!0),l.lineStart(),i(null,null,1,l),l.lineEnd()),h&&(l.polygonEnd(),h=!1),s=g=null},sphere:function(){l.polygonStart(),l.lineStart(),i(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function d(P,k){n(P,k)&&l.point(P,k)}function p(P,k){r.point(P,k)}function y(){c.point=p,r.lineStart()}function m(){c.point=d,r.lineEnd()}function R(P,k){u.push([P,k]),a.point(P,k)}function E(){a.lineStart(),u=[]}function S(){R(u[0][0],u[0][1]),a.lineEnd();var P=a.clean(),k=o.result(),z,b=k.length,L,D,C;if(u.pop(),g.push(u),u=null,!!b){if(P&1){if(D=k[0],(L=D.length-1)>0){for(h||(l.polygonStart(),h=!0),l.lineStart(),z=0;z<L;++z)l.point((C=D[z])[0],C[1]);l.lineEnd()}return}b>1&&P&2&&k.push(k.pop().concat(k.shift())),s.push(k.filter(ni))}}return c}}function ni(n){return n.length>1}function ti(n,e){return((n=n.x)[0]<0?n[1]-oe-j:oe-n[1])-((e=e.x)[0]<0?e[1]-oe-j:oe-e[1])}const Un=kt(function(){return!0},ii,ri,[-B,-oe]);function ii(n){var e=NaN,i=NaN,t=NaN,l;return{lineStart:function(){n.lineStart(),l=1},point:function(r,o){var a=r>0?B:-B,h=G(r-e);G(h-B)<j?(n.point(e,i=(i+o)/2>0?oe:-oe),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(a,i),n.point(r,i),l=0):t!==a&&h>=B&&(G(e-t)<j&&(e-=t*j),G(r-a)<j&&(r-=a*j),i=li(e,i,r,o),n.point(t,i),n.lineEnd(),n.lineStart(),n.point(a,i),l=0),n.point(e=r,i=o),t=a},lineEnd:function(){n.lineEnd(),e=i=NaN},clean:function(){return 2-l}}}function li(n,e,i,t){var l,r,o=H(n-i);return G(o)>j?Qt((H(e)*(r=W(t))*H(i)-H(t)*(l=W(e))*H(n))/(l*r*o)):(e+t)/2}function ri(n,e,i,t){var l;if(n==null)l=i*oe,t.point(-B,l),t.point(0,l),t.point(B,l),t.point(B,0),t.point(B,-l),t.point(0,-l),t.point(-B,-l),t.point(-B,0),t.point(-B,l);else if(G(n[0]-e[0])>j){var r=n[0]<e[0]?B:-B;l=i*r/2,t.point(-r,l),t.point(0,l),t.point(r,l)}else t.point(e[0],e[1])}function oi(n){var e=W(n),i=2*x,t=e>0,l=G(e)>j;function r(s,u,c,d){xt(d,n,i,c,s,u)}function o(s,u){return W(s)*W(u)>e}function a(s){var u,c,d,p,y;return{lineStart:function(){p=d=!1,y=1},point:function(m,R){var E=[m,R],S,P=o(m,R),k=t?P?0:g(m,R):P?g(m+(m<0?B:-B),R):0;if(!u&&(p=d=P)&&s.lineStart(),P!==d&&(S=h(u,E),(!S||xe(u,S)||xe(E,S))&&(E[2]=1)),P!==d)y=0,P?(s.lineStart(),S=h(E,u),s.point(S[0],S[1])):(S=h(u,E),s.point(S[0],S[1],2),s.lineEnd()),u=S;else if(l&&u&&t^P){var z;!(k&c)&&(z=h(E,u,!0))&&(y=0,t?(s.lineStart(),s.point(z[0][0],z[0][1]),s.point(z[1][0],z[1][1]),s.lineEnd()):(s.point(z[1][0],z[1][1]),s.lineEnd(),s.lineStart(),s.point(z[0][0],z[0][1],3)))}P&&(!u||!xe(u,E))&&s.point(E[0],E[1]),u=E,d=P,c=k},lineEnd:function(){d&&s.lineEnd(),u=null},clean:function(){return y|(p&&d)<<1}}}function h(s,u,c){var d=ze(s),p=ze(u),y=[1,0,0],m=nn(d,p),R=Xe(m,m),E=m[0],S=R-E*E;if(!S)return!c&&s;var P=e*R/S,k=-e*E/S,z=nn(y,m),b=Qe(y,P),L=Qe(m,k);un(b,L);var D=z,C=Xe(b,D),w=Xe(D,D),I=C*C-w*(Xe(b,b)-1);if(!(I<0)){var O=Se(I),A=Qe(D,(-C-O)/w);if(un(A,b),A=gn(A),!c)return A;var f=s[0],N=u[0],v=s[1],F=u[1],Z;N<f&&(Z=f,f=N,N=Z);var me=N-f,ee=G(me-B)<j,ue=ee||me<j;if(!ee&&F<v&&(Z=v,v=F,F=Z),ue?ee?v+F>0^A[1]<(G(A[0]-f)<j?v:F):v<=A[1]&&A[1]<=F:me>B^(f<=A[0]&&A[0]<=N)){var ne=Qe(D,(-C+O)/w);return un(ne,b),[A,gn(ne)]}}}function g(s,u){var c=t?n:B-n,d=0;return s<-c?d|=1:s>c&&(d|=2),u<-c?d|=4:u>c&&(d|=8),d}return kt(o,a,r,t?[0,-n]:[-B,n-B])}function ai(n,e,i,t,l,r){var o=n[0],a=n[1],h=e[0],g=e[1],s=0,u=1,c=h-o,d=g-a,p;if(p=i-o,!(!c&&p>0)){if(p/=c,c<0){if(p<s)return;p<u&&(u=p)}else if(c>0){if(p>u)return;p>s&&(s=p)}if(p=l-o,!(!c&&p<0)){if(p/=c,c<0){if(p>u)return;p>s&&(s=p)}else if(c>0){if(p<s)return;p<u&&(u=p)}if(p=t-a,!(!d&&p>0)){if(p/=d,d<0){if(p<s)return;p<u&&(u=p)}else if(d>0){if(p>u)return;p>s&&(s=p)}if(p=r-a,!(!d&&p<0)){if(p/=d,d<0){if(p>u)return;p>s&&(s=p)}else if(d>0){if(p<s)return;p<u&&(u=p)}return s>0&&(n[0]=o+s*c,n[1]=a+s*d),u<1&&(e[0]=o+u*c,e[1]=a+u*d),!0}}}}}var Oe=1e9,Ke=-Oe;function si(n,e,i,t){function l(g,s){return n<=g&&g<=i&&e<=s&&s<=t}function r(g,s,u,c){var d=0,p=0;if(g==null||(d=o(g,u))!==(p=o(s,u))||h(g,s)<0^u>0)do c.point(d===0||d===3?n:i,d>1?t:e);while((d=(d+u+4)%4)!==p);else c.point(s[0],s[1])}function o(g,s){return G(g[0]-n)<j?s>0?0:3:G(g[0]-i)<j?s>0?2:1:G(g[1]-e)<j?s>0?1:0:s>0?3:2}function a(g,s){return h(g.x,s.x)}function h(g,s){var u=o(g,1),c=o(s,1);return u!==c?u-c:u===0?s[1]-g[1]:u===1?g[0]-s[0]:u===2?g[1]-s[1]:s[0]-g[0]}return function(g){var s=g,u=Pt(),c,d,p,y,m,R,E,S,P,k,z,b={point:L,lineStart:I,lineEnd:O,polygonStart:C,polygonEnd:w};function L(f,N){l(f,N)&&s.point(f,N)}function D(){for(var f=0,N=0,v=d.length;N<v;++N)for(var F=d[N],Z=1,me=F.length,ee=F[0],ue,ne,ye=ee[0],pe=ee[1];Z<me;++Z)ue=ye,ne=pe,ee=F[Z],ye=ee[0],pe=ee[1],ne<=t?pe>t&&(ye-ue)*(t-ne)>(pe-ne)*(n-ue)&&++f:pe<=t&&(ye-ue)*(t-ne)<(pe-ne)*(n-ue)&&--f;return f}function C(){s=u,c=[],d=[],z=!0}function w(){var f=D(),N=z&&f,v=(c=yt(c)).length;(N||v)&&(g.polygonStart(),N&&(g.lineStart(),r(null,null,1,g),g.lineEnd()),v&&Mt(c,a,f,r,g),g.polygonEnd()),s=g,c=d=p=null}function I(){b.point=A,d&&d.push(p=[]),k=!0,P=!1,E=S=NaN}function O(){c&&(A(y,m),R&&P&&u.rejoin(),c.push(u.result())),b.point=L,P&&s.lineEnd()}function A(f,N){var v=l(f,N);if(d&&p.push([f,N]),k)y=f,m=N,R=v,k=!1,v&&(s.lineStart(),s.point(f,N));else if(v&&P)s.point(f,N);else{var F=[E=Math.max(Ke,Math.min(Oe,E)),S=Math.max(Ke,Math.min(Oe,S))],Z=[f=Math.max(Ke,Math.min(Oe,f)),N=Math.max(Ke,Math.min(Oe,N))];ai(F,Z,n,e,i,t)?(P||(s.lineStart(),s.point(F[0],F[1])),s.point(Z[0],Z[1]),v||s.lineEnd(),z=!1):v&&(s.lineStart(),s.point(f,N),z=!1)}E=f,S=N,P=v}return b}}const mn=n=>n;var fn=new ke,En=new ke,Nt,Rt,Sn,yn,de={point:ae,lineStart:ae,lineEnd:ae,polygonStart:function(){de.lineStart=ui,de.lineEnd=fi},polygonEnd:function(){de.lineStart=de.lineEnd=de.point=ae,fn.add(G(En)),En=new ke},result:function(){var n=fn/2;return fn=new ke,n}};function ui(){de.point=ci}function ci(n,e){de.point=At,Nt=Sn=n,Rt=yn=e}function At(n,e){En.add(yn*n-Sn*e),Sn=n,yn=e}function fi(){At(Nt,Rt)}var be=1/0,tn=be,We=-be,ln=We,rn={point:hi,lineStart:ae,lineEnd:ae,polygonStart:ae,polygonEnd:ae,result:function(){var n=[[be,tn],[We,ln]];return We=ln=-(tn=be=1/0),n}};function hi(n,e){n<be&&(be=n),n>We&&(We=n),e<tn&&(tn=e),e>ln&&(ln=e)}var wn=0,Pn=0,$e=0,on=0,an=0,Ae=0,Mn=0,kn=0,Be=0,It,Dt,ce,fe,te={point:Ne,lineStart:Vn,lineEnd:Wn,polygonStart:function(){te.lineStart=di,te.lineEnd=vi},polygonEnd:function(){te.point=Ne,te.lineStart=Vn,te.lineEnd=Wn},result:function(){var n=Be?[Mn/Be,kn/Be]:Ae?[on/Ae,an/Ae]:$e?[wn/$e,Pn/$e]:[NaN,NaN];return wn=Pn=$e=on=an=Ae=Mn=kn=Be=0,n}};function Ne(n,e){wn+=n,Pn+=e,++$e}function Vn(){te.point=pi}function pi(n,e){te.point=gi,Ne(ce=n,fe=e)}function gi(n,e){var i=n-ce,t=e-fe,l=Se(i*i+t*t);on+=l*(ce+n)/2,an+=l*(fe+e)/2,Ae+=l,Ne(ce=n,fe=e)}function Wn(){te.point=Ne}function di(){te.point=_i}function vi(){zt(It,Dt)}function _i(n,e){te.point=zt,Ne(It=ce=n,Dt=fe=e)}function zt(n,e){var i=n-ce,t=e-fe,l=Se(i*i+t*t);on+=l*(ce+n)/2,an+=l*(fe+e)/2,Ae+=l,l=fe*n-ce*e,Mn+=l*(ce+n),kn+=l*(fe+e),Be+=l*3,Ne(ce=n,fe=e)}function bt(n){this._context=n}bt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,se);break}}},result:ae};var Nn=new ke,hn,Ct,Lt,Fe,qe,Ge={point:ae,lineStart:function(){Ge.point=mi},lineEnd:function(){hn&&Tt(Ct,Lt),Ge.point=ae},polygonStart:function(){hn=!0},polygonEnd:function(){hn=null},result:function(){var n=+Nn;return Nn=new ke,n}};function mi(n,e){Ge.point=Tt,Ct=Fe=n,Lt=qe=e}function Tt(n,e){Fe-=n,qe-=e,Nn.add(Se(Fe*Fe+qe*qe)),Fe=n,qe=e}let Gn,sn,Zn,Yn;class Xn{constructor(e){this._append=e==null?Ot:Ei(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,i){switch(this._point){case 0:{this._append`M${e},${i}`,this._point=1;break}case 1:{this._append`L${e},${i}`;break}default:{if(this._append`M${e},${i}`,this._radius!==Zn||this._append!==sn){const t=this._radius,l=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Zn=t,sn=this._append,Yn=this._,this._=l}this._+=Yn;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Ot(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=arguments[e]+n[e]}function Ei(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return Ot;if(e!==Gn){const i=10**e;Gn=e,sn=function(l){let r=1;this._+=l[0];for(const o=l.length;r<o;++r)this._+=Math.round(arguments[r]*i)/i+l[r]}}return sn}function Si(n,e){let i=3,t=4.5,l,r;function o(a){return a&&(typeof t=="function"&&r.pointRadius(+t.apply(this,arguments)),Re(a,l(r))),r.result()}return o.area=function(a){return Re(a,l(de)),de.result()},o.measure=function(a){return Re(a,l(Ge)),Ge.result()},o.bounds=function(a){return Re(a,l(rn)),rn.result()},o.centroid=function(a){return Re(a,l(te)),te.result()},o.projection=function(a){return arguments.length?(l=a==null?(n=null,mn):(n=a).stream,o):n},o.context=function(a){return arguments.length?(r=a==null?(e=null,new Xn(i)):new bt(e=a),typeof t!="function"&&r.pointRadius(t),o):e},o.pointRadius=function(a){return arguments.length?(t=typeof a=="function"?a:(r.pointRadius(+a),+a),o):t},o.digits=function(a){if(!arguments.length)return i;if(a==null)i=null;else{const h=Math.floor(a);if(!(h>=0))throw new RangeError(`invalid digits: ${a}`);i=h}return e===null&&(r=new Xn(i)),o},o.projection(n).digits(i).context(e)}function Dn(n){return function(e){var i=new Rn;for(var t in n)i[t]=n[t];return i.stream=e,i}}function Rn(){}Rn.prototype={constructor:Rn,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function zn(n,e,i){var t=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),t!=null&&n.clipExtent(null),Re(i,n.stream(rn)),e(rn.result()),t!=null&&n.clipExtent(t),n}function $t(n,e,i){return zn(n,function(t){var l=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(l/(t[1][0]-t[0][0]),r/(t[1][1]-t[0][1])),a=+e[0][0]+(l-o*(t[1][0]+t[0][0]))/2,h=+e[0][1]+(r-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([a,h])},i)}function yi(n,e,i){return $t(n,[[0,0],e],i)}function wi(n,e,i){return zn(n,function(t){var l=+e,r=l/(t[1][0]-t[0][0]),o=(l-r*(t[1][0]+t[0][0]))/2,a=-r*t[0][1];n.scale(150*r).translate([o,a])},i)}function Pi(n,e,i){return zn(n,function(t){var l=+e,r=l/(t[1][1]-t[0][1]),o=-r*t[0][0],a=(l-r*(t[1][1]+t[0][1]))/2;n.scale(150*r).translate([o,a])},i)}var Qn=16,Mi=W(30*x);function Jn(n,e){return+e?Ni(n,e):ki(n)}function ki(n){return Dn({point:function(e,i){e=n(e,i),this.stream.point(e[0],e[1])}})}function Ni(n,e){function i(t,l,r,o,a,h,g,s,u,c,d,p,y,m){var R=g-t,E=s-l,S=R*R+E*E;if(S>4*e&&y--){var P=o+c,k=a+d,z=h+p,b=Se(P*P+k*k+z*z),L=De(z/=b),D=G(G(z)-1)<j||G(r-u)<j?(r+u)/2:Ie(k,P),C=n(D,L),w=C[0],I=C[1],O=w-t,A=I-l,f=E*O-R*A;(f*f/S>e||G((R*O+E*A)/S-.5)>.3||o*c+a*d+h*p<Mi)&&(i(t,l,r,o,a,h,w,I,D,P/=b,k/=b,z,y,m),m.point(w,I),i(w,I,D,P,k,z,g,s,u,c,d,p,y,m))}}return function(t){var l,r,o,a,h,g,s,u,c,d,p,y,m={point:R,lineStart:E,lineEnd:P,polygonStart:function(){t.polygonStart(),m.lineStart=k},polygonEnd:function(){t.polygonEnd(),m.lineStart=E}};function R(L,D){L=n(L,D),t.point(L[0],L[1])}function E(){u=NaN,m.point=S,t.lineStart()}function S(L,D){var C=ze([L,D]),w=n(L,D);i(u,c,s,d,p,y,u=w[0],c=w[1],s=L,d=C[0],p=C[1],y=C[2],Qn,t),t.point(u,c)}function P(){m.point=R,t.lineEnd()}function k(){E(),m.point=z,m.lineEnd=b}function z(L,D){S(l=L,D),r=u,o=c,a=d,h=p,g=y,m.point=S}function b(){i(u,c,s,d,p,y,r,o,l,a,h,g,Qn,t),m.lineEnd=P,P()}return m}}var Ri=Dn({point:function(n,e){this.stream.point(n*x,e*x)}});function Ai(n){return Dn({point:function(e,i){var t=n(e,i);return this.stream.point(t[0],t[1])}})}function Ii(n,e,i,t,l){function r(o,a){return o*=t,a*=l,[e+n*o,i-n*a]}return r.invert=function(o,a){return[(o-e)/n*t,(i-a)/n*l]},r}function Kn(n,e,i,t,l,r){if(!r)return Ii(n,e,i,t,l);var o=W(r),a=H(r),h=o*n,g=a*n,s=o/n,u=a/n,c=(a*i-o*e)/n,d=(a*e+o*i)/n;function p(y,m){return y*=t,m*=l,[h*y-g*m+e,i-g*y-h*m]}return p.invert=function(y,m){return[t*(s*y-u*m+c),l*(d-u*y-s*m)]},p}function Di(n){return zi(function(){return n})()}function zi(n){var e,i=150,t=480,l=250,r=0,o=0,a=0,h=0,g=0,s,u=0,c=1,d=1,p=null,y=Un,m=null,R,E,S,P=mn,k=.5,z,b,L,D,C;function w(f){return L(f[0]*x,f[1]*x)}function I(f){return f=L.invert(f[0],f[1]),f&&[f[0]*ge,f[1]*ge]}w.stream=function(f){return D&&C===f?D:D=Ri(Ai(s)(y(z(P(C=f)))))},w.preclip=function(f){return arguments.length?(y=f,p=void 0,A()):y},w.postclip=function(f){return arguments.length?(P=f,m=R=E=S=null,A()):P},w.clipAngle=function(f){return arguments.length?(y=+f?oi(p=f*x):(p=null,Un),A()):p*ge},w.clipExtent=function(f){return arguments.length?(P=f==null?(m=R=E=S=null,mn):si(m=+f[0][0],R=+f[0][1],E=+f[1][0],S=+f[1][1]),A()):m==null?null:[[m,R],[E,S]]},w.scale=function(f){return arguments.length?(i=+f,O()):i},w.translate=function(f){return arguments.length?(t=+f[0],l=+f[1],O()):[t,l]},w.center=function(f){return arguments.length?(r=f[0]%360*x,o=f[1]%360*x,O()):[r*ge,o*ge]},w.rotate=function(f){return arguments.length?(a=f[0]%360*x,h=f[1]%360*x,g=f.length>2?f[2]%360*x:0,O()):[a*ge,h*ge,g*ge]},w.angle=function(f){return arguments.length?(u=f%360*x,O()):u*ge},w.reflectX=function(f){return arguments.length?(c=f?-1:1,O()):c<0},w.reflectY=function(f){return arguments.length?(d=f?-1:1,O()):d<0},w.precision=function(f){return arguments.length?(z=Jn(b,k=f*f),A()):Se(k)},w.fitExtent=function(f,N){return $t(w,f,N)},w.fitSize=function(f,N){return yi(w,f,N)},w.fitWidth=function(f,N){return wi(w,f,N)},w.fitHeight=function(f,N){return Pi(w,f,N)};function O(){var f=Kn(i,0,0,c,d,u).apply(null,e(r,o)),N=Kn(i,t-f[0],l-f[1],c,d,u);return s=Kt(a,h,g),b=vn(e,N),L=vn(s,b),z=Jn(b,k),A()}function A(){return D=C=null,w}return function(){return e=n.apply(this,arguments),w.invert=e.invert&&I,O()}}function bi(n){return function(e,i){var t=W(e),l=W(i),r=n(t*l);return r===1/0?[2,0]:[r*l*H(e),r*H(i)]}}function Ci(n){return function(e,i){var t=Se(e*e+i*i),l=n(t),r=H(l),o=W(l);return[Ie(e*r,t*o),De(t&&i*r/t)]}}var Bt=bi(function(n){return(n=wt(n))&&n/H(n)});Bt.invert=Ci(function(n){return n});function Li(){return Di(Bt).scale(79.4188).clipAngle(180-.001)}function Ti(n){var y,m;let e,i,t=`<p class="svelte-wlznm4">An interactive visualization of all the space debris that reenters
            the atmosphere in the South Pacific Ocean. From 1960 until today.</p>`,l,r,o,a,h=((y=n[0])==null?void 0:y.name)+"",g,s,u,c,d=((m=n[0])==null?void 0:m.year)+"",p;return{c(){e=X("div"),i=X("div"),i.innerHTML=t,l=ve(),r=X("div"),o=X("span"),a=ie("Satellite: "),g=ie(h),s=ve(),u=X("span"),c=ie("Year: "),p=ie(d),this.h()},l(R){e=Q(R,"DIV",{class:!0});var E=$(e);i=Q(E,"DIV",{class:!0,"data-svelte-h":!0}),An(i)!=="svelte-9fj3n4"&&(i.innerHTML=t),l=_e(E),r=Q(E,"DIV",{class:!0});var S=$(r);o=Q(S,"SPAN",{class:!0});var P=$(o);a=le(P,"Satellite: "),g=le(P,h),P.forEach(M),s=_e(S),u=Q(S,"SPAN",{class:!0});var k=$(u);c=le(k,"Year: "),p=le(k,d),k.forEach(M),S.forEach(M),E.forEach(M),this.h()},h(){_(i,"class","description svelte-wlznm4"),_(o,"class","svelte-wlznm4"),_(u,"class","svelte-wlznm4"),_(r,"class","satellite-info svelte-wlznm4"),_(e,"class","top-bar svelte-wlznm4")},m(R,E){q(R,e,E),T(e,i),T(e,l),T(e,r),T(r,o),T(o,a),T(o,g),T(r,s),T(r,u),T(u,c),T(u,p)},p(R,[E]){var S,P;E&1&&h!==(h=((S=R[0])==null?void 0:S.name)+"")&&Ee(g,h),E&1&&d!==(d=((P=R[0])==null?void 0:P.year)+"")&&Ee(p,d)},i:he,o:he,d(R){R&&M(e)}}}function Oi(n,e,i){let{currentPoint:t}=e;return n.$$set=l=>{"currentPoint"in l&&i(0,t=l.currentPoint)},[t]}class $i extends Le{constructor(e){super(),Te(this,e,Oi,Ti,Ce,{currentPoint:0})}}function Bi(n){let e,i,t,l,r,o;return{c(){e=X("div"),i=X("div"),t=ve(),l=X("div"),this.h()},l(a){e=Q(a,"DIV",{class:!0});var h=$(e);i=Q(h,"DIV",{class:!0,style:!0}),$(i).forEach(M),t=_e(h),l=Q(h,"DIV",{class:!0,style:!0}),$(l).forEach(M),h.forEach(M),this.h()},h(){_(i,"class","progress svelte-1aifhpe"),Ze(i,"width",(n[0]+1)/n[1].length*100+"%"),_(l,"class","draggable svelte-1aifhpe"),Ze(l,"left",(n[0]+1)/n[1].length*100+"%"),_(e,"class","progress-bar svelte-1aifhpe")},m(a,h){q(a,e,h),T(e,i),T(e,t),T(e,l),r||(o=In(e,"mousedown",n[2]),r=!0)},p(a,[h]){h&3&&Ze(i,"width",(a[0]+1)/a[1].length*100+"%"),h&3&&Ze(l,"left",(a[0]+1)/a[1].length*100+"%")},i:he,o:he,d(a){a&&M(e),r=!1,o()}}}function Fi(n,e,i){const t=Et();let{index:l}=e,{points:r}=e;function o(a){const h=a.currentTarget.getBoundingClientRect();let g=a.clientX-h.left;const s=h.width;g<0?g=0:g>s&&(g=s);const u=g/s*100,c=Math.floor(u/100*r.length);t("updateIndex",c)}return n.$$set=a=>{"index"in a&&i(0,l=a.index),"points"in a&&i(1,r=a.points)},[l,r,o]}class qi extends Le{constructor(e){super(),Te(this,e,Fi,Bi,Ce,{index:0,points:1})}}function ji(n){let e,i=`<h2 class="svelte-1vdl53p">Colophon</h2> <p class="svelte-1vdl53p">Since space exploration began in the 1950s, the various technologies
        used for launching and carrying out missions have left their mark,
        gradually creating vast fields and layers of debris both in orbit and in
        the Earth&#39;s marine environment.</p> <p class="svelte-1vdl53p">While space debris is mainly associated with the countless pieces
        scattered around the Earth, its re-entry into the atmosphere and its
        possible re-entry into the sometimes deliberately controlled marine
        environment often goes unnoticed. Media portraits deal with the
        phenomenon of falling debris mainly in the context of the mysterious <em>Point Nemo</em>, also known as the <em>spaceship graveyard</em>. However, the romantic
        and antropomorphic concept of technology finding its final resting place
        is misleading and ignores the reality of a chaotic waste dump 4 embedded
        in a complex legal dilemma around environmental damage.</p> <h2 class="svelte-1vdl53p">Map</h2> <p class="svelte-1vdl53p">A timeline visualising all the artificial space objects that fell within
        the South Pacific Ocean Uninhabited Area (SPOUA) from 1959 until now -
        reflecting on the past, present and future presence of space objects in
        marine environments.</p> <p class="svelte-1vdl53p">By geolocating their predicted reentry, the resulting coordinates are
        juxtaposed with the legal limits of coastal states‘ sovereign rights,
        spanning from Exclusive Economic Zones to Navigational Areas.</p> <p class="svelte-1vdl53p">While the first shows the conflicting intersection with the UN Law of
        the Sea and a possible breach thereof, the latter emphasises the
        constant risk of impact that re-entering spacecraft pose to shipping
        routes within the South Pacific Ocean.</p> <h2 class="svelte-1vdl53p">Data</h2> <ol class="svelte-1vdl53p"><li>ESA (European Space Agency)</li> <li>GEBCO (General bathymetric chart of the oceans)</li> <li>Marineregions.org</li> <li>NASA ODPO (Orbital Debris Programme Office)</li> <li>NASA Distance to the Nearest Coast</li> <li>NOAA (National Oceanic and Atmospheric Administration)</li> <li>NORAD (National Oceanic and Atmospheric Administration)</li> <li>CelesTrak</li> <li>USSTRATCOM (United States Strategic Command)</li></ol>`;return{c(){e=X("article"),e.innerHTML=i,this.h()},l(t){e=Q(t,"ARTICLE",{class:!0,"data-svelte-h":!0}),An(e)!=="svelte-1bcz6ln"&&(e.innerHTML=i),this.h()},h(){_(e,"class","svelte-1vdl53p")},m(t,l){q(t,e,l)},p:he,i:he,o:he,d(t){t&&M(e)}}}class Hi extends Le{constructor(e){super(),Te(this,e,null,ji,Ce,{})}}function xn(n,e,i){const t=n.slice();return t[9]=e[i],t[11]=i,t}function et(n){let e,i=n[9].name+"",t,l,r=n[9].year+"",o,a,h,g;function s(){return n[7](n[11])}return{c(){e=X("p"),t=ie(i),l=ie(", "),o=ie(r),a=ve(),this.h()},l(u){e=Q(u,"P",{class:!0});var c=$(e);t=le(c,i),l=le(c,", "),o=le(c,r),a=_e(c),c.forEach(M),this.h()},h(){_(e,"class","svelte-1hvvvdt"),J(e,"gray-background",n[11]%2===1),J(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},m(u,c){q(u,e,c),T(e,t),T(e,l),T(e,o),T(e,a),h||(g=In(e,"click",s),h=!0)},p(u,c){n=u,c&4&&i!==(i=n[9].name+"")&&Ee(t,i),c&4&&r!==(r=n[9].year+"")&&Ee(o,r),c&5&&J(e,"highlight",n[0]&&n[0].name===n[9].name&&n[0].year==n[9].year)},d(u){u&&M(e),h=!1,g()}}}function Ui(n){let e,i,t,l,r,o,a,h,g,s=K(n[2]),u=[];for(let c=0;c<s.length;c+=1)u[c]=et(xn(n,s,c));return o=new Hi({}),{c(){e=X("article"),i=X("input"),t=ve(),l=X("div");for(let c=0;c<u.length;c+=1)u[c].c();r=ve(),je(o.$$.fragment),this.h()},l(c){e=Q(c,"ARTICLE",{class:!0});var d=$(e);i=Q(d,"INPUT",{type:!0,placeholder:!0,class:!0}),t=_e(d),l=Q(d,"DIV",{class:!0});var p=$(l);for(let y=0;y<u.length;y+=1)u[y].l(p);p.forEach(M),d.forEach(M),r=_e(c),He(o.$$.fragment,c),this.h()},h(){_(i,"type","text"),_(i,"placeholder","Search..."),_(i,"class","svelte-1hvvvdt"),_(l,"class","svelte-1hvvvdt"),_(e,"class","svelte-1hvvvdt")},m(c,d){q(c,e,d),T(e,i),bn(i,n[1]),T(e,t),T(e,l);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(l,null);q(c,r,d),Ue(o,c,d),a=!0,h||(g=In(i,"input",n[6]),h=!0)},p(c,[d]){if(d&2&&i.value!==c[1]&&bn(i,c[1]),d&13){s=K(c[2]);let p;for(p=0;p<s.length;p+=1){const y=xn(c,s,p);u[p]?u[p].p(y,d):(u[p]=et(y),u[p].c(),u[p].m(l,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=s.length}},i(c){a||(Pe(o.$$.fragment,c),a=!0)},o(c){Me(o.$$.fragment,c),a=!1},d(c){c&&(M(e),M(r)),we(u,c),Ve(o,c),h=!1,g()}}}function Vi(n,e,i){let t,l,{points:r}=e,{highlighted:o}=e;const a=Et();let h="";function g(c){a("updateId",t[c])}function s(){h=this.value,i(1,h)}const u=c=>g(c);return n.$$set=c=>{"points"in c&&i(4,r=c.points),"highlighted"in c&&i(0,o=c.highlighted)},n.$$.update=()=>{n.$$.dirty&16&&i(5,l=r.reduce((c,d)=>c.find(y=>y.name===d.name&&y.year===d.year)?c:c.concat([d]),[])),n.$$.dirty&34&&i(2,t=l.filter(c=>c.name.toLowerCase().includes(h.toLowerCase())))},[o,h,t,g,r,l,s,u]}class Wi extends Le{constructor(e){super(),Te(this,e,Vi,Ui,Ce,{points:4,highlighted:0})}}function nt(n,e,i){const t=n.slice();return t[24]=e[i].cx,t[25]=e[i].cy,t[26]=e[i].name,t}function tt(n,e,i){const t=n.slice();return t[24]=e[i].cx,t[25]=e[i].cy,t[26]=e[i].name,t[29]=e[i].r,t[31]=i,t}function it(n,e,i){const t=n.slice();return t[32]=e[i],t[31]=i,t}function lt(n,e,i){const t=n.slice();return t[34]=e[i],t[31]=i,t}function rt(n,e,i){const t=n.slice();return t[34]=e[i],t[31]=i,t}function ot(n,e,i){const t=n.slice();return t[34]=e[i],t[31]=i,t}function at(n){let e,i,t,l,r,o,a,h,g,s,u,c,d,p,y,m,R,E,S=n[0].length>0&&st(n),P=K(n[5]),k=[];for(let f=0;f<P.length;f+=1)k[f]=ut(ot(n,P,f));let z=K(n[4]),b=[];for(let f=0;f<z.length;f+=1)b[f]=ct(rt(n,z,f));let L=K(n[6]),D=[];for(let f=0;f<L.length;f+=1)D[f]=ft(lt(n,L,f));let C=n[0].length>0&&ht(n),w=K(n[0]),I=[];for(let f=0;f<w.length;f+=1)I[f]=vt(tt(n,w,f));let O=K(n[8]),A=[];for(let f=0;f<O.length;f+=1)A[f]=mt(nt(n,O,f));return{c(){e=U("svg"),i=U("defs"),t=U("path"),r=U("clipPath"),o=U("use"),S&&S.c(),a=U("g"),h=U("circle"),c=U("g");for(let f=0;f<k.length;f+=1)k[f].c();d=U("g");for(let f=0;f<b.length;f+=1)b[f].c();p=U("g");for(let f=0;f<D.length;f+=1)D[f].c();y=U("g"),C&&C.c(),m=U("g");for(let f=0;f<I.length;f+=1)I[f].c();R=U("g");for(let f=0;f<A.length;f+=1)A[f].c();this.h()},l(f){e=V(f,"svg",{viewBox:!0});var N=$(e);i=V(N,"defs",{});var v=$(i);t=V(v,"path",{id:!0,d:!0}),$(t).forEach(M),r=V(v,"clipPath",{class:!0,id:!0});var F=$(r);o=V(F,"use",{href:!0}),$(o).forEach(M),F.forEach(M),v.forEach(M),S&&S.l(N),a=V(N,"g",{"clip-path":!0,class:!0});var Z=$(a);h=V(Z,"circle",{cx:!0,cy:!0,r:!0,class:!0}),$(h).forEach(M),c=V(Z,"g",{class:!0,fill:!0,stroke:!0});var me=$(c);for(let Y=0;Y<k.length;Y+=1)k[Y].l(me);me.forEach(M),d=V(Z,"g",{class:!0,stroke:!0});var ee=$(d);for(let Y=0;Y<b.length;Y+=1)b[Y].l(ee);ee.forEach(M),p=V(Z,"g",{class:!0,fill:!0,stroke:!0});var ue=$(p);for(let Y=0;Y<D.length;Y+=1)D[Y].l(ue);ue.forEach(M),y=V(Z,"g",{class:!0});var ne=$(y);C&&C.l(ne),ne.forEach(M),m=V(Z,"g",{class:!0});var ye=$(m);for(let Y=0;Y<I.length;Y+=1)I[Y].l(ye);ye.forEach(M),R=V(Z,"g",{class:!0});var pe=$(R);for(let Y=0;Y<A.length;Y+=1)A[Y].l(pe);pe.forEach(M),Z.forEach(M),N.forEach(M),this.h()},h(){_(t,"id","sphere"),_(t,"d",l=n[11]({type:"Sphere"})),_(o,"href","#sphere"),_(r,"class","clip"),_(r,"id","clip"),_(h,"cx",g=n[2]/2),_(h,"cy",s=n[3]/2),_(h,"r",u=n[2]*2),_(h,"class","bg svelte-84mrc2"),_(c,"class","marine svelte-84mrc2"),_(c,"fill","#e9f4ff"),_(c,"stroke","blue"),_(d,"class","world svelte-84mrc2"),_(d,"stroke","none"),_(p,"class","contour svelte-84mrc2"),_(p,"fill","none"),_(p,"stroke","none"),_(y,"class","svelte-84mrc2"),_(m,"class","svelte-84mrc2"),_(R,"class","nemo svelte-84mrc2"),_(a,"clip-path","url(#clip)"),_(a,"class","svelte-84mrc2"),_(e,"viewBox",E="0 0 "+n[2]+" "+n[3])},m(f,N){q(f,e,N),T(e,i),T(i,t),T(i,r),T(r,o),S&&S.m(e,null),T(e,a),T(a,h),T(a,c);for(let v=0;v<k.length;v+=1)k[v]&&k[v].m(c,null);T(a,d);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(d,null);T(a,p);for(let v=0;v<D.length;v+=1)D[v]&&D[v].m(p,null);T(a,y),C&&C.m(y,null),T(a,m);for(let v=0;v<I.length;v+=1)I[v]&&I[v].m(m,null);T(a,R);for(let v=0;v<A.length;v+=1)A[v]&&A[v].m(R,null)},p(f,N){if(N[0]&2048&&l!==(l=f[11]({type:"Sphere"}))&&_(t,"d",l),f[0].length>0?S?S.p(f,N):(S=st(f),S.c(),S.m(e,a)):S&&(S.d(1),S=null),N[0]&4&&g!==(g=f[2]/2)&&_(h,"cx",g),N[0]&8&&s!==(s=f[3]/2)&&_(h,"cy",s),N[0]&4&&u!==(u=f[2]*2)&&_(h,"r",u),N[0]&2080){P=K(f[5]);let v;for(v=0;v<P.length;v+=1){const F=ot(f,P,v);k[v]?k[v].p(F,N):(k[v]=ut(F),k[v].c(),k[v].m(c,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=P.length}if(N[0]&2064){z=K(f[4]);let v;for(v=0;v<z.length;v+=1){const F=rt(f,z,v);b[v]?b[v].p(F,N):(b[v]=ct(F),b[v].c(),b[v].m(d,null))}for(;v<b.length;v+=1)b[v].d(1);b.length=z.length}if(N[0]&2112){L=K(f[6]);let v;for(v=0;v<L.length;v+=1){const F=lt(f,L,v);D[v]?D[v].p(F,N):(D[v]=ft(F),D[v].c(),D[v].m(p,null))}for(;v<D.length;v+=1)D[v].d(1);D.length=L.length}if(f[0].length>0?C?C.p(f,N):(C=ht(f),C.c(),C.m(y,null)):C&&(C.d(1),C=null),N[0]&1){w=K(f[0]);let v;for(v=0;v<w.length;v+=1){const F=tt(f,w,v);I[v]?I[v].p(F,N):(I[v]=vt(F),I[v].c(),I[v].m(m,null))}for(;v<I.length;v+=1)I[v].d(1);I.length=w.length}if(N[0]&256){O=K(f[8]);let v;for(v=0;v<O.length;v+=1){const F=nt(f,O,v);A[v]?A[v].p(F,N):(A[v]=mt(F),A[v].c(),A[v].m(R,null))}for(;v<A.length;v+=1)A[v].d(1);A.length=O.length}N[0]&12&&E!==(E="0 0 "+f[2]+" "+f[3])&&_(e,"viewBox",E)},d(f){f&&M(e),S&&S.d(),we(k,f),we(b,f),we(D,f),C&&C.d(),we(I,f),we(A,f)}}}function st(n){var h,g;let e,i,t=((h=n[0][n[0].length-1])==null?void 0:h.name)+"",l,r,o=((g=n[0][n[0].length-1])==null?void 0:g.year)+"",a;return{c(){e=U("text"),i=U("textPath"),l=ie(t),r=ie(" — "),a=ie(o),this.h()},l(s){e=V(s,"text",{"text-anchor":!0,dy:!0,"font-size":!0,fill:!0});var u=$(e);i=V(u,"textPath",{href:!0,startOffset:!0});var c=$(i);l=le(c,t),r=le(c," — "),a=le(c,o),c.forEach(M),u.forEach(M),this.h()},h(){_(i,"href","#sphere"),_(i,"startOffset","15%"),_(e,"text-anchor","left"),_(e,"dy","-5"),_(e,"font-size","36"),_(e,"fill","blue")},m(s,u){q(s,e,u),T(e,i),T(i,l),T(i,r),T(i,a)},p(s,u){var c,d;u[0]&1&&t!==(t=((c=s[0][s[0].length-1])==null?void 0:c.name)+"")&&Ee(l,t),u[0]&1&&o!==(o=((d=s[0][s[0].length-1])==null?void 0:d.year)+"")&&Ee(a,o)},d(s){s&&M(e)}}}function ut(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),$(e).forEach(M),this.h()},h(){_(e,"d",i=n[11](n[34])),_(e,"class","marineBorders")},m(t,l){q(t,e,l)},p(t,l){l[0]&2080&&i!==(i=t[11](t[34]))&&_(e,"d",i)},d(t){t&&M(e)}}}function ct(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),$(e).forEach(M),this.h()},h(){_(e,"d",i=n[11](n[34])),_(e,"class","country")},m(t,l){q(t,e,l)},p(t,l){l[0]&2064&&i!==(i=t[11](t[34]))&&_(e,"d",i)},d(t){t&&M(e)}}}function ft(n){let e,i;return{c(){e=U("path"),this.h()},l(t){e=V(t,"path",{d:!0,class:!0}),$(e).forEach(M),this.h()},h(){_(e,"d",i=n[11](n[34])),_(e,"class","contour svelte-84mrc2")},m(t,l){q(t,e,l)},p(t,l){l[0]&2112&&i!==(i=t[11](t[34]))&&_(e,"d",i)},d(t){t&&M(e)}}}function ht(n){let e,i=K(n[0]),t=[];for(let l=0;l<i.length;l+=1)t[l]=gt(it(n,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=re()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);e=re()},m(l,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(l,r);q(l,e,r)},p(l,r){if(r[0]&1){i=K(l[0]);let o;for(o=0;o<i.length;o+=1){const a=it(l,i,o);t[o]?t[o].p(a,r):(t[o]=gt(a),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=i.length}},d(l){l&&M(e),we(t,l)}}}function pt(n){let e,i,t,l,r;return{c(){e=U("line"),this.h()},l(o){e=V(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),$(e).forEach(M),this.h()},h(){_(e,"x1",i=n[0][n[31]-1].cx),_(e,"y1",t=n[0][n[31]-1].cy),_(e,"x2",l=n[32].cx),_(e,"y2",r=n[32].cy),_(e,"class","svelte-84mrc2"),J(e,"highlite",n[31]===n[0].length-1),J(e,"old",n[31]!==n[0].length-1)},m(o,a){q(o,e,a)},p(o,a){a[0]&1&&i!==(i=o[0][o[31]-1].cx)&&_(e,"x1",i),a[0]&1&&t!==(t=o[0][o[31]-1].cy)&&_(e,"y1",t),a[0]&1&&l!==(l=o[32].cx)&&_(e,"x2",l),a[0]&1&&r!==(r=o[32].cy)&&_(e,"y2",r),a[0]&1&&J(e,"highlite",o[31]===o[0].length-1),a[0]&1&&J(e,"old",o[31]!==o[0].length-1)},d(o){o&&M(e)}}}function gt(n){let e,i=n[31]>0&&n[0][n[31]].name===n[0][n[31]-1].name&&pt(n);return{c(){i&&i.c(),e=re()},l(t){i&&i.l(t),e=re()},m(t,l){i&&i.m(t,l),q(t,e,l)},p(t,l){t[31]>0&&t[0][t[31]].name===t[0][t[31]-1].name?i?i.p(t,l):(i=pt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&M(e),i&&i.d(t)}}}function Gi(n){let e,i,t,l;return{c(){e=U("circle"),this.h()},l(r){e=V(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),$(e).forEach(M),this.h()},h(){_(e,"cx",i=n[24]),_(e,"cy",t=n[25]),_(e,"r",l=n[29]),_(e,"fill","blue"),_(e,"class","svelte-84mrc2"),J(e,"highlite",n[31]===n[0].length-1),J(e,"old",n[31]!==n[0].length-1),J(e,"debris",n[26].includes("DEB"))},m(r,o){q(r,e,o)},p(r,o){o[0]&1&&i!==(i=r[24])&&_(e,"cx",i),o[0]&1&&t!==(t=r[25])&&_(e,"cy",t),o[0]&1&&l!==(l=r[29])&&_(e,"r",l),o[0]&1&&J(e,"highlite",r[31]===r[0].length-1),o[0]&1&&J(e,"old",r[31]!==r[0].length-1),o[0]&1&&J(e,"debris",r[26].includes("DEB"))},d(r){r&&M(e)}}}function Zi(n){let e,i,t,l;return{c(){e=U("circle"),this.h()},l(r){e=V(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),$(e).forEach(M),this.h()},h(){_(e,"cx",i=n[24]),_(e,"cy",t=n[25]),_(e,"r",l=n[29]),_(e,"fill","blue"),_(e,"class","highlite svelte-84mrc2"),J(e,"debris",n[26].includes("DEB"))},m(r,o){q(r,e,o)},p(r,o){o[0]&1&&i!==(i=r[24])&&_(e,"cx",i),o[0]&1&&t!==(t=r[25])&&_(e,"cy",t),o[0]&1&&l!==(l=r[29])&&_(e,"r",l),o[0]&1&&J(e,"debris",r[26].includes("DEB"))},d(r){r&&M(e)}}}function dt(n){let e,i=n[26]+"",t,l,r;return{c(){e=U("text"),t=ie(i),this.h()},l(o){e=V(o,"text",{x:!0,y:!0,class:!0,"font-size":!0});var a=$(e);t=le(a,i),a.forEach(M),this.h()},h(){_(e,"x",l=n[29]+n[24]+8),_(e,"y",r=n[25]+2),_(e,"class","satellite-name svelte-84mrc2"),_(e,"font-size","8")},m(o,a){q(o,e,a),T(e,t)},p(o,a){a[0]&1&&i!==(i=o[26]+"")&&Ee(t,i),a[0]&1&&l!==(l=o[29]+o[24]+8)&&_(e,"x",l),a[0]&1&&r!==(r=o[25]+2)&&_(e,"y",r)},d(o){o&&M(e)}}}function vt(n){let e,i;function t(a,h){if(a[31]===a[0].length-1)return Zi;if(a[31]>0&&a[0][a[31]].name===a[0][a[31]-1].name)return Gi}let l=t(n),r=l&&l(n),o=n[31]===n[0].length-1&&dt(n);return{c(){r&&r.c(),e=re(),o&&o.c(),i=re()},l(a){r&&r.l(a),e=re(),o&&o.l(a),i=re()},m(a,h){r&&r.m(a,h),q(a,e,h),o&&o.m(a,h),q(a,i,h)},p(a,h){l===(l=t(a))&&r?r.p(a,h):(r&&r.d(1),r=l&&l(a),r&&(r.c(),r.m(e.parentNode,e))),a[31]===a[0].length-1?o?o.p(a,h):(o=dt(a),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(a){a&&(M(e),M(i)),r&&r.d(a),o&&o.d(a)}}}function _t(n){let e,i,t,l,r=n[26]+"",o,a,h;return{c(){e=U("circle"),l=U("text"),o=ie(r),this.h()},l(g){e=V(g,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),$(e).forEach(M),l=V(g,"text",{x:!0,y:!0,"font-size":!0,class:!0});var s=$(l);o=le(s,r),s.forEach(M),this.h()},h(){_(e,"cx",i=n[24]),_(e,"cy",t=n[25]),_(e,"r",1),_(e,"fill","black"),_(e,"class","svelte-84mrc2"),_(l,"x",a=n[24]+4),_(l,"y",h=n[25]+2),_(l,"font-size","8"),_(l,"class","svelte-84mrc2")},m(g,s){q(g,e,s),q(g,l,s),T(l,o)},p(g,s){s[0]&256&&i!==(i=g[24])&&_(e,"cx",i),s[0]&256&&t!==(t=g[25])&&_(e,"cy",t),s[0]&256&&r!==(r=g[26]+"")&&Ee(o,r),s[0]&256&&a!==(a=g[24]+4)&&_(l,"x",a),s[0]&256&&h!==(h=g[25]+2)&&_(l,"y",h)},d(g){g&&(M(e),M(l))}}}function mt(n){let e,i=n[24]&&n[25]&&_t(n);return{c(){i&&i.c(),e=re()},l(t){i&&i.l(t),e=re()},m(t,l){i&&i.m(t,l),q(t,e,l)},p(t,l){t[24]&&t[25]?i?i.p(t,l):(i=_t(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&M(e),i&&i.d(t)}}}function Yi(n){let e,i,t,l,r,o,a,h,g;e=new $i({props:{currentPoint:n[9]}}),t=new qi({props:{index:n[10],points:n[7]}}),t.$on("updateIndex",n[13]);let s=n[0].length>0&&at(n);return h=new Wi({props:{points:n[7],highlighted:n[12]}}),h.$on("updateId",n[14]),{c(){je(e.$$.fragment),i=ve(),je(t.$$.fragment),l=ve(),r=X("article"),o=X("div"),s&&s.c(),a=ve(),je(h.$$.fragment),this.h()},l(u){He(e.$$.fragment,u),i=_e(u),He(t.$$.fragment,u),l=_e(u),r=Q(u,"ARTICLE",{class:!0});var c=$(r);o=Q(c,"DIV",{class:!0});var d=$(o);s&&s.l(d),d.forEach(M),a=_e(c),He(h.$$.fragment,c),c.forEach(M),this.h()},h(){_(o,"class","svelte-84mrc2"),_(r,"class","svelte-84mrc2")},m(u,c){Ue(e,u,c),q(u,i,c),Ue(t,u,c),q(u,l,c),q(u,r,c),T(r,o),s&&s.m(o,null),n[16](o),T(r,a),Ue(h,r,null),g=!0},p(u,c){const d={};c[0]&512&&(d.currentPoint=u[9]),e.$set(d);const p={};c[0]&1024&&(p.index=u[10]),c[0]&128&&(p.points=u[7]),t.$set(p),u[0].length>0?s?s.p(u,c):(s=at(u),s.c(),s.m(o,null)):s&&(s.d(1),s=null);const y={};c[0]&128&&(y.points=u[7]),c[0]&4096&&(y.highlighted=u[12]),h.$set(y)},i(u){g||(Pe(e.$$.fragment,u),Pe(t.$$.fragment,u),Pe(h.$$.fragment,u),g=!0)},o(u){Me(e.$$.fragment,u),Me(t.$$.fragment,u),Me(h.$$.fragment,u),g=!1},d(u){u&&(M(i),M(l),M(r)),Ve(e,u),Ve(t,u),s&&s.d(),n[16](null),Ve(h)}}}function Xi(n,e,i){let t,{data:l}=e,r,o=0,a=0,h,g=[{lon:-126.3622344,lat:-72.9741938,name:"Maher Island"},{lon:-109.452777777778,lat:-27.2013888888889,name:"Easter Island"},{lon:-124.787888,lat:-24.6807263,name:"Ducie Island"},{lon:-123.3933333,lat:-48.8766667,name:"Point Nemo"}],s=[],u=[],c=[],d=[],p=[],y=[],m=[],R=null,E=0,S,P;function k(w,I){return w.filter(O=>{const[A,f]=I([O.lon,O.lat]);return A>=0&&A<=o&&f>=0&&f<=a})}St(async()=>{z();try{const w=await fetch("world.json").then(f=>f.json()),I=await fetch("EEZ_land_v2_201410.json").then(f=>f.json()),O=await fetch("contour.json").then(f=>f.json()),A=await fetch("spoua.json").then(f=>f.json());i(4,s=Ye(w,w.objects.land).features),i(5,u=Ye(I,I.objects.EEZ_land_v2_201410).features),i(6,c=Ye(O,O.objects.collection).features),d=Ye(A,A.objects.spoua).features,b()}catch(w){console.error("Error loading or processing data:",w)}window.addEventListener("resize",z)});function z(){if(r){i(2,o=r.clientWidth),i(3,a=r.clientHeight),h=Li().rotate([123,48]).scale(260).precision(1).clipAngle(100).translate([o/2,a/2]),i(11,P=Si().projection(h));const w=k(l,h);i(7,p=w.map(I=>{const[O,A]=h([I.lon,I.lat]);return{cx:O,cy:A,name:I.satellite_name,year:I.satellite_decay,r:I.rcs}}).filter(I=>!isNaN(I.cx)&&!isNaN(I.cy))),i(8,y=g.map(I=>{const[O,A]=h([I.lon,I.lat]);return{cx:O,cy:A,name:I.name}})),i(0,m=p.slice(0,E+1))}}const b=()=>{S&&clearInterval(S),i(10,E=0),i(0,m=[]),S=setInterval(()=>{E<p.length?(i(0,m=[...m,p[E]]),i(9,R=p[E]),i(10,E=(E+1)%p.length)):clearInterval(S)},500)},L=w=>{i(10,E=w.detail),i(0,m=p.slice(0,E+1)),i(9,R=m[m.length-1]),i(12,t=p[E+1])},D=w=>{i(10,E=p.findIndex(I=>I.name==w.detail.name&&I.year==w.detail.year)),i(0,m=p.slice(0,E+1))};function C(w){Ft[w?"unshift":"push"](()=>{r=w,i(1,r)})}return n.$$set=w=>{"data"in w&&i(15,l=w.data)},n.$$.update=()=>{n.$$.dirty[0]&1&&i(12,t=m.slice(-1)[0])},[m,r,o,a,s,u,c,p,y,R,E,P,t,L,D,l,C]}let Qi=class extends Le{constructor(e){super(),Te(this,e,Xi,Yi,Ce,{data:15},null,[-1,-1])}};function Ji(n){let e,i,t,l;return i=new Qi({props:{data:n[0]}}),{c(){e=X("article"),je(i.$$.fragment),this.h()},l(r){e=Q(r,"ARTICLE",{class:!0});var o=$(e);He(i.$$.fragment,o),o.forEach(M),this.h()},h(){_(e,"class","svelte-3qdlah"),qt(()=>n[3].call(e))},m(r,o){q(r,e,o),Ue(i,e,null),t=jt(e,n[3].bind(e)),l=!0},p(r,o){const a={};o&1&&(a.data=r[0]),i.$set(a)},i(r){l||(Pe(i.$$.fragment,r),l=!0)},o(r){Me(i.$$.fragment,r),l=!1},d(r){r&&M(e),Ve(i),t()}}}function Ki(n){let e,i="Loading...";return{c(){e=X("p"),e.textContent=i,this.h()},l(t){e=Q(t,"P",{class:!0,"data-svelte-h":!0}),An(e)!=="svelte-qdsr2u"&&(e.textContent=i),this.h()},h(){_(e,"class","svelte-3qdlah")},m(t,l){q(t,e,l)},p:he,i:he,o:he,d(t){t&&M(e)}}}function xi(n){let e,i,t,l;const r=[Ki,Ji],o=[];function a(h,g){return h[0].length===0?0:1}return e=a(n),i=o[e]=r[e](n),{c(){i.c(),t=re()},l(h){i.l(h),t=re()},m(h,g){o[e].m(h,g),q(h,t,g),l=!0},p(h,[g]){let s=e;e=a(h),e===s?o[e].p(h,g):(Ut(),Me(o[s],1,1,()=>{o[s]=null}),Ht(),i=o[e],i?i.p(h,g):(i=o[e]=r[e](h),i.c()),Pe(i,1),i.m(t.parentNode,t))},i(h){l||(Pe(i),l=!0)},o(h){Me(i),l=!1},d(h){h&&M(t),o[e].d(h)}}}function el(n,e,i){let t=[],l,r;St(async()=>{const h=await(await fetch("data.json")).json(),g=Math.min(...h.map(u=>u.rcs)),s=Math.max(...h.map(u=>u.rcs));i(0,t=h.sort((u,c)=>new Date(u.satellite_decay)-new Date(c.satellite_decay)).map(u=>({...u,rcs:1+(u.rcs-g)*9/(s-g)})))});function o(){l=this.clientWidth,r=this.clientHeight,i(1,l),i(2,r)}return[t,l,r,o]}class ll extends Le{constructor(e){super(),Te(this,e,el,xi,Ce,{})}}export{ll as component};
